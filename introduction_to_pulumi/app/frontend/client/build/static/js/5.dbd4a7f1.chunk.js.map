{"version":3,"sources":["utils/fetch.js","views/product/product.module.css","views/product/ViewProduct.jsx"],"names":["request","endpoint","body","customConfig","config","method","headers","JSON","stringify","window","fetch","then","async","data","response","json","ok","Promise","reject","module","exports","breakPoints","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","breakPointsFS","preview","ButtonGroup","next","previous","goToSlide","rest","className","style","arrow_btns","type","onClick","CarouselFullScreen","product","infinite","partialVisible","responsive","keyBoardControl","swipeable","showDots","arrows","customButtonGroup","totalItems","renderButtonGroupOutside","images","map","img","i","preview_large","cover_large","src","alt","name","CarouselFitScreen","cover","ViewProduct","id","useParams","setProduct","useContext","CartContext","setProductDetails","useState","colors","setColors","isLoading","setIsLoading","colorSelected","setColorSelected","useEffect","document","classList","add","remove","url","split","pop","res","allColors","color","code","hex","filter","v","a","findIndex","t","catch","err","fullView","setFullView","view_wrapper","full_view","view_background","view_controller","right_aligned","fs_btn","dark_btn","e","view_foreground","product_details","details_meta","breadcrumb","to","category","cust","getCustomerType","customerType","details_id","productCode","details_info","description","details_more","c","title","backgroundColor","border","selected_color","ratings_reviews","r_count","ratings","total","stars","price_big","currency","format","price","toFixed","details_actions","size_details","sizes","join","action_buy","qty","Noty","layout","progressBar","text","theme","timeout","show","buy_text","buy_icon"],"mappings":"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","file":"static/js/5.dbd4a7f1.chunk.js","sourcesContent":["export function request(endpoint, { body, ...customConfig } = {}) {\n  const headers = { 'content-type': 'application/json' };\n\n  const config = {\n    method: body ? 'POST' : 'GET',\n    ...customConfig,\n    headers: {\n      ...headers,\n      ...customConfig.headers,\n    }\n  };\n\n  if (body) {\n    config.body = JSON.stringify(body);\n  }\n\n  return window\n    .fetch(`/api/${endpoint}`, config)\n    .then(async (response) => {\n      const data = await response.json();\n      if (response.ok) {\n        return data;\n      } else {\n        return Promise.reject(data);\n      }\n    });\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"view_wrapper\":\"product_view_wrapper__2mzXD\",\"view_background\":\"product_view_background__1faTq\",\"full_view\":\"product_full_view__2qZzi\",\"view_foreground\":\"product_view_foreground__1uxUO\",\"view_controller\":\"product_view_controller__1mbFE\",\"right_aligned\":\"product_right_aligned__23i1V\",\"arrow_btns\":\"product_arrow_btns__3xb94\",\"fs_btn\":\"product_fs_btn__3S3mq\",\"dark_btn\":\"product_dark_btn__oJwtZ\",\"product_details\":\"product_product_details__2VYs5\",\"details_meta\":\"product_details_meta__1bpPX\",\"breadcrumb\":\"product_breadcrumb__33chX\",\"details_id\":\"product_details_id__3cPlV\",\"details_info\":\"product_details_info__2oZe7\",\"details_more\":\"product_details_more__1UtS-\",\"colors\":\"product_colors__1iUae\",\"ratings_reviews\":\"product_ratings_reviews__10TY-\",\"r_count\":\"product_r_count__1vrSx\",\"stars\":\"product_stars__6Fiai\",\"details_actions\":\"product_details_actions__3lf0W\",\"size_details\":\"product_size_details__1kf2w\",\"action_buy\":\"product_action_buy__28oM5\",\"price\":\"product_price__3ZtTI\",\"price_big\":\"product_price_big__3xaNR\",\"buy_icon\":\"product_buy_icon__1LIhi\",\"preview\":\"product_preview__27lGa\",\"preview_large\":\"product_preview_large__3dueA\",\"cover\":\"product_cover__3fgp4\",\"cover_large\":\"product_cover_large__3vQ25\",\"buy_text\":\"product_buy_text__1knkt\"};","import React, { useEffect, useState, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\nimport { CartContext } from '../../context/cartContext';\nimport { Loader } from '../../components/loader/Loader';\nimport { request } from '../../utils/fetch';\nimport Noty from 'noty';\nimport style from './product.module.css';\nimport './../../../node_modules/noty/lib/noty.css';\nimport './../../../node_modules/noty/lib/themes/relax.css';\n\nconst breakPoints = {\n  superLargeDesktop: {\n    // the naming can be any, depends on you.\n    breakpoint: { max: 4000, min: 1921 },\n    items: 3,\n  },\n  desktop: {\n    breakpoint: { max: 1920, min: 1201 },\n    items: 2,\n  },\n  tablet: {\n    breakpoint: { max: 1200, min: 0 },\n    items: 1,\n  },\n};\n\nconst breakPointsFS = {\n  preview: {\n    // the naming can be any, depends on you.\n    breakpoint: { max: 4000, min: 0 },\n    items: 1,\n  },\n};\n\nconst ButtonGroup = ({ next, previous, goToSlide, ...rest }) => {\n  return (\n    <div className={style.arrow_btns}>\n      <button type=\"button\" onClick={() => previous()}>\n        <span className=\"material-icons\">chevron_left</span>\n      </button>\n      <button type=\"button\" onClick={() => next()}>\n        <span className=\"material-icons\">chevron_right</span>\n      </button>\n    </div>\n  );\n};\n\nconst CarouselFullScreen = ({ product }) => {\n  return (\n    <Carousel\n      infinite={true}\n      partialVisible={false}\n      responsive={breakPointsFS}\n      keyBoardControl\n      swipeable\n      showDots={false}\n      arrows={false}\n      customButtonGroup={<ButtonGroup totalItems={5} />}\n      renderButtonGroupOutside={true}\n    >\n      {product.images.map((img, i) => (\n        <div className={style.preview_large} key={i}>\n          <div className={style.cover_large}>\n            <img src={img.src} alt={product.name} />\n          </div>\n        </div>\n      ))}\n    </Carousel>\n  );\n};\n\nconst CarouselFitScreen = ({ product }) => {\n  return (\n    <Carousel\n      infinite={true}\n      partialVisible={false}\n      responsive={breakPoints}\n      keyBoardControl\n      swipeable\n      showDots={false}\n      arrows={false}\n      customButtonGroup={<ButtonGroup totalItems={5} />}\n      renderButtonGroupOutside={true}\n    >\n      {product.images.map((img, i) => (\n        <div className={style.preview} key={i}>\n          <div className={style.cover}>\n            <img src={img.src} alt={product.name} />\n          </div>\n        </div>\n      ))}\n    </Carousel>\n  );\n};\n\nconst ViewProduct = () => {\n  let { id } = useParams();\n\n  const { setProduct } = useContext(CartContext);\n  const [product, setProductDetails] = useState(null);\n  const [colors, setColors] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [colorSelected, setColorSelected] = useState(1);\n\n  useEffect(() => {\n    document.body.classList.add('noscroll-web');\n    document.body.classList.remove('trans');\n  }, []);\n\n  useEffect(() => {\n    const productId = id.split('-').pop();\n    const url = `products/${productId}`;\n    request(url)\n      .then((res) => {\n        setProductDetails(res.data.product);\n        const allColors = res.data.product.images\n          .map((img) => ({\n            name: img.color,\n            code: img.hex,\n          }))\n          .filter((v, i, a) => a.findIndex((t) => t.name === v.name) === i);\n        setColors(allColors);\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        setProductDetails(null);\n        setIsLoading(false);\n      });\n  }, [id]);\n\n  const [fullView, setFullView] = useState(false);\n\n  function addToCart() {\n    const cartProduct = {\n      qty: 1,\n      product,\n    };\n    setProduct(cartProduct);\n    new Noty({\n      layout: 'bottomCenter',\n      progressBar: false,\n      text: `<div style=\"display:flex; align-items: center;gap:15px;\"><img width=\"40\" src=${product.images[0].src} alt='sneaker' /> <div>Added to cart</div></div>`,\n      theme: 'relax',\n      timeout: 1000\n    }).show();\n  }\n\n  const getCustomerType = (code) => {\n    let cust = '';\n    switch (code) {\n      case 2:\n        cust = 'Men';\n        break;\n      case 3:\n        cust = 'Women';\n        break;\n      case 4:\n        cust = 'Unisex';\n        break;\n      case 5:\n        cust = 'Kids';\n        break;\n      default:\n        cust = 'All';\n        break;\n    }\n    return cust;\n  };\n\n  return isLoading ? (\n    <Loader />\n  ) : (\n    <div>\n      <div\n        className={`${style.view_wrapper} ${fullView ? style.full_view : ''}`}\n      >\n        <div className={style.view_background}>\n          {fullView ? (\n            <CarouselFullScreen product={product} />\n          ) : (\n            <CarouselFitScreen product={product} />\n          )}\n          <div\n            className={`${style.view_controller} ${\n              fullView ? style.right_aligned : ''\n            }`}\n          >\n            <div className={style.fs_btn}>\n              {!fullView ? (\n                <button type=\"button\" onClick={(e) => setFullView(true)}>\n                  <span className=\"material-icons\">add</span>\n                </button>\n              ) : (\n                <button\n                  type=\"button\"\n                  className={style.dark_btn}\n                  onClick={(e) => setFullView(false)}\n                >\n                  <span className=\"material-icons\">close</span>\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n        {!fullView && (\n          <div className={style.view_foreground}>\n            <div className={style.product_details}>\n              <div className={style.details_meta}>\n                <ul className={style.breadcrumb}>\n                  <li>\n                    <Link to=\"/\">Home</Link>\n                  </li>\n                  <li>Products</li>\n                  <li>{product.category}</li>\n                  <li>{getCustomerType(product.customerType)}</li>\n                </ul>\n                <span className={style.details_id}>\n                  Id: {product.productCode}\n                </span>\n              </div>\n              <div className={style.details_info}>\n                <h2>{product.name}</h2>\n                <p>{product.description}</p>\n              </div>\n              <div className={style.details_more}>\n                <div className={style.colors}>\n                  {colors.map((c, i) => (\n                    <span\n                      key={i}\n                      title={c.name}\n                      style={{\n                        backgroundColor: c.code,\n                        border: `1px solid ${\n                          c.name === 'White' ? '#ddd' : c.code\n                        }`,\n                      }}\n                      className={`${\n                        colorSelected === i + 1 ? style.selected_color : ''\n                      }`}\n                      onClick={(e) => setColorSelected(i + 1)}\n                    ></span>\n                  ))}\n                </div>\n                <div className={style.ratings_reviews}>\n                  <div className={style.r_count}>\n                    {product.ratings.total} Reviews\n                  </div>\n                  <div className={style.stars}>\n                    <span className=\"material-icons\">star</span>\n                    <span className=\"material-icons\">star</span>\n                    <span className=\"material-icons\">star</span>\n                    <span className=\"material-icons\">star_half</span>\n                    <span className=\"material-icons\">star_outline</span>\n                  </div>\n                </div>\n              </div>\n              <div className={style.price_big}>\n                {product.currency.format} {product.price.toFixed(2)}\n              </div>\n              <div className={style.details_actions}>\n                <div className={style.size_details}>\n                  <span>Available sizes:</span>\n                  <span>US {product.sizes.join(', ')}</span>\n                </div>\n                <div className={style.action_buy} onClick={addToCart}>\n                  <span className={style.price}>\n                    {' '}\n                    {product.currency.format} {product.price.toFixed(2)}\n                  </span>\n                  <span className={style.buy_text}>Add to Cart</span>\n                  <span className={`material-icons ${style.buy_icon}`}>\n                    shopping_cart\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ViewProduct;\n"],"sourceRoot":""}